<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="bootstrap/4.1.2/css/slate/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="tinymce/js/tinymce/skins/lightgray/skin.min.css" type="text/css" />
    <!--<link rel="stylesheet" href="bootstrap/3.3.4/css/bootstrap.min.css" />-->
    <!--<link rel="stylesheet" href="bootstrap/3.3.4/css/bootstrap-theme.min.css" type="text/css" />-->

</head>
<body>


<div style="width: 76%;height:100%;margin: auto;border:solid darkgrey 3px;">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary" >
        <a class="navbar-brand" href="#">ENotes</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="main.html">&emsp;首页&emsp; <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="my.html">&emsp;我的&emsp;</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">&emsp;特性&emsp;</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">&emsp;购买&emsp;</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">&emsp;关于我们&emsp;</a>
                </li>
            </ul>

            <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="text" placeholder="输入关键字" style="background-color: #282C34">
                <button class="btn btn-secondary my-2 my-sm-0" type="submit">搜索</button>
            </form>
            &emsp;
            <a class="nav-link dropdown-toggle" style="border: 0px;"><span>独孤求败</span></a>
        </div>
    </nav>
    <div class="alert alert-dismissible alert-primary">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <strong>Oh snap!</strong> <a href="#" class="alert-link">Change a few things up</a> and try submitting again.
    </div>
    <div class="container">
        <div class="row">
            <div class="col-3" style="border: solid darkgrey 1px;">
                <ul class="list-group ">
                    <li class="list-group-item d-flex justify-content-between align-items-center active">
                        我的笔记
                        <span class="badge badge-primary badge-pill">14</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        我的发布
                        <span class="badge badge-primary badge-pill">2</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        我的关注
                        <span class="badge badge-primary badge-pill">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        我的评论
                        <span class="badge badge-primary badge-pill">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        我的草稿
                        <span class="badge badge-primary badge-pill">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        我的联系人
                        <span class="badge badge-primary badge-pill">1</span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        回收站
                        <span class="badge badge-primary badge-pill">1</span>
                    </li>
                </ul>
                <div class="card text-white bg-primary mb-3" style="max-width: 20rem;">
                    <div class="card-header">公告</div>
                    <div class="card-body">
                        <h4 class="card-title">Primary card title</h4>
                        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    </div>
                </div>
                <div class="card text-white bg-primary mb-3" style="max-width: 20rem;">
                    <div class="card-header">常用链接</div>
                    <div class="card-body">
                        <p class="card-text"><a href="#">link quick example.</a></p>
                        <p class="card-text"><a href="#">link quick example.</a></p>
                        <p class="card-text"><a href="#">link quick example.</a></p>
                        <p class="card-text"><a href="#">link quick example.</a></p>
                    </div>
                </div>
            </div>



            <div class="col-9" style="border: solid darkgrey 1px;">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="my.html">列表</a></li>
                    <li class="breadcrumb-item active"><span onclick="window.location='detail.html'">详情</span></li>
                </ol>
                <div class="card text-white bg-primary mb-3" style="max-width: 100%;">
                    <div class="card-header">
                        <input type="text" class="form-control" placeholder="点击这里编辑主题..." id="inputDefault" style="background-color: #282C34">
                    </div>
                    <div class="card-body">
                        <textarea id="editor" class="form-control"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<script type="text/javascript" language="javascript" src="jquery/3.2.1/jquery.3.2.1.min.js"></script>
<script type="text/javascript" language="javascript" src="popper/popper.min.js"></script>
<script type="text/javascript" language="javascript" src="bootstrap/4.1.2/bootstrap.min.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/tinymce.js"></script>
<!--<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/textcolor/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/wordcount/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/searchreplace/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/print/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/textcolor/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/colorpicker/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/bbcode/plugin.js"></script>
<script type="text/javascript" language="javascript" src="tinymce/js/tinymce/plugins/help/plugin.js"></script>-->


<script type="text/javascript">
    tinymce.init({
        selector: '#editor',
        // 去除官方brand
        //font_size:['font_size','fontsizeselect'],
        branding:false,
        language:'zh_CN',
        //skin: "lightgray",
        menu:{},
       /* menu: {
            file: {title: 'File', items: 'newdocument'},
            edit: {title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall'},
            insert: {title: 'Insert', items: 'link media | template hr'},
            view: {title: 'View', items: 'visualaid'},
            format: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},
            table: {title: 'Table', items: 'inserttable tableprops deletetable | cell row column'},
            tools: {title: 'Tools', items: 'spellchecker code'}
        },*/
       // width:800,
        height:500,
        resize:false,
        plugins:[ 'image code','paste','lists','table','prettify','imagetools','searchreplace','textcolor','charmap','bbcode','colorpicker','wordcount','print','help'],
        toolbar1: " insert undo redo | styleselect | fontsizeselect font bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify ",
        toolbar2: "bullist numlist outdent indent | charmap bbcode print wordcount | searchreplace | help",
        // enable title field in the Image dialog
        image_title: true,
        // enable automatic uploads of images represented by blob or data URIs
        automatic_uploads: true,
        paste_data_images:true,
        // URL of our upload handler (for more details check: https://www.tinymce.com/docs/configure/file-image-upload/#images_upload_url)
        // images_upload_url: 'postAcceptor.php',
        // 初始化完成后回调
        init_instance_callback:function () {
            //tinymce.activeEditor.setContent("init...");
            // alert("init...");
        },
        // here we add custom filepicker only to Image dialog
        file_picker_types: 'image',
        // and here's our custom image picker
        file_picker_callback: function(cb, value, meta) {
            console.log("cb:"+cb);
            console.log("value:"+value);
            console.log("meta"+meta);
            var input = document.createElement('input');
            input.setAttribute('type', 'file');
            input.setAttribute('accept', 'image/*');

            // Note: In modern browsers input[type="file"] is functional without
            // even adding it to the DOM, but that might not be the case in some older
            // or quirky browsers like IE, so you might want to add it to the DOM
            // just in case, and visually hide it. And do not forget do remove it
            // once you do not need it anymore.

            input.onchange = function() {
                console.log("files:"+this.files)
                var file = this.files[0];

                var reader = new FileReader();
                reader.onload = function () {
                    // Note: Now we need to register the blob in TinyMCEs image blob
                    // registry. In the next release this part hopefully won't be
                    // necessary, as we are looking to handle it internally.
                    var id = 'blobid' + (new Date()).getTime();
                    var blobCache =  tinymce.activeEditor.editorUpload.blobCache;
                    var base64 = reader.result.split(',')[1];
                    var blobInfo = blobCache.create(id, file, base64);
                    blobCache.add(blobInfo);

                    // call the callback and populate the Title field with the file name
                    cb(blobInfo.blobUri(), { title: file.name });
                };
                reader.readAsDataURL(file);
            };

            input.click();
        }
    });

    $(function () {
        //alert(myeditor.getContent());
        //tinymce.editors[0].setContent("tianyao232332初始化");
    });
    //tinymce.activeEditor.setMode("readonly");
</script>
</body>
</html>